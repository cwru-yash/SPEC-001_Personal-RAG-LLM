2025-07-22 21:28:42,064 - __main__ - INFO - üöÄ Starting CPU-Optimized VLM Test Suite
2025-07-22 21:28:42,064 - __main__ - INFO - ============================================================
2025-07-22 21:28:42,114 - __main__ - INFO - ‚úÖ Configuration loaded successfully
2025-07-22 21:28:42,115 - __main__ - INFO -    VLM enabled: true
2025-07-22 21:28:42,115 - __main__ - INFO -    VLM processor type: cpu_optimized
2025-07-22 21:28:42,115 - __main__ - INFO -    Base timeout: 180s
2025-07-22 21:28:42,116 - pipeline.vlm.cpu_optimized_processor - INFO - CPU-Optimized VLM Processor initialized:
2025-07-22 21:28:42,116 - pipeline.vlm.cpu_optimized_processor - INFO -   Model: llava:7b
2025-07-22 21:28:42,116 - pipeline.vlm.cpu_optimized_processor - INFO -   Base timeout: 180s
2025-07-22 21:28:42,116 - pipeline.vlm.cpu_optimized_processor - INFO -   Adaptive timeouts: True
2025-07-22 21:28:42,116 - pipeline.vlm.cpu_optimized_processor - INFO -   Max pages per document: 3
2025-07-22 21:28:42,116 - __main__ - INFO - ‚úÖ VLM processor initialized and enabled
2025-07-22 21:28:42,116 - __main__ - INFO -    Model: llava:7b
2025-07-22 21:28:42,116 - __main__ - INFO -    API endpoint: http://localhost:11434
2025-07-22 21:28:42,116 - __main__ - INFO -    Current timeout: 180.0s
2025-07-22 21:28:42,116 - __main__ - INFO - 
============================================================
2025-07-22 21:28:42,116 - __main__ - INFO - üéì UNDERSTANDING TIMEOUT BEHAVIOR
2025-07-22 21:28:42,116 - __main__ - INFO - ============================================================
2025-07-22 21:28:42,116 - __main__ - INFO - The timeout system works in layers:
2025-07-22 21:28:42,116 - __main__ - INFO - 
2025-07-22 21:28:42,116 - __main__ - INFO - 1. üïê INITIAL TIMEOUT
2025-07-22 21:28:42,116 - __main__ - INFO -    Starts at: 180s
2025-07-22 21:28:42,116 - __main__ - INFO -    This is a conservative starting point for CPU processing
2025-07-22 21:28:42,116 - __main__ - INFO - 
2025-07-22 21:28:42,116 - __main__ - INFO - 2. üß† ADAPTIVE LEARNING
2025-07-22 21:28:42,116 - __main__ - INFO -    After each successful request, the system learns:
2025-07-22 21:28:42,116 - __main__ - INFO -    - Average response time for your hardware
2025-07-22 21:28:42,116 - __main__ - INFO -    - 95th percentile time (accounts for occasional slow responses)
2025-07-22 21:28:42,117 - __main__ - INFO -    - Adjusts timeout to: P95_time √ó 1.8
2025-07-22 21:28:42,117 - __main__ - INFO - 
2025-07-22 21:28:42,117 - __main__ - INFO - 3. üõ°Ô∏è SAFETY BOUNDS
2025-07-22 21:28:42,117 - __main__ - INFO -    Minimum timeout: 60s (even fast responses need time)
2025-07-22 21:28:42,117 - __main__ - INFO -    Maximum timeout: 600s (prevents infinite waits)
2025-07-22 21:28:42,117 - __main__ - INFO - 
2025-07-22 21:28:42,117 - __main__ - INFO - 4. üîÑ RETRY LOGIC
2025-07-22 21:28:42,117 - __main__ - INFO -    If timeout occurs, retry up to 2 times
2025-07-22 21:28:42,117 - __main__ - INFO -    Wait between retries: 2^attempt seconds (max 30s)
2025-07-22 21:28:42,117 - __main__ - INFO - 
2025-07-22 21:28:42,117 - __main__ - INFO - 5. üõü FALLBACK BEHAVIOR
2025-07-22 21:28:42,117 - __main__ - INFO -    If all retries fail:
2025-07-22 21:28:42,117 - __main__ - INFO -    - Falls back to traditional OCR processing
2025-07-22 21:28:42,117 - __main__ - INFO -    - Still produces useful results
2025-07-22 21:28:42,117 - __main__ - INFO -    - Continues processing other pages
2025-07-22 21:28:42,117 - __main__ - INFO - 
2025-07-22 21:28:42,117 - __main__ - INFO - This design ensures your system is both patient with CPU processing
2025-07-22 21:28:42,117 - __main__ - INFO - and responsive when things go wrong.
2025-07-22 21:28:42,117 - __main__ - INFO - ============================================================

2025-07-22 21:28:42,117 - __main__ - INFO - üîç Testing Ollama connectivity...
2025-07-22 21:28:42,138 - __main__ - INFO - ‚úÖ Ollama is accessible
2025-07-22 21:28:42,140 - __main__ - INFO -    Available models: ['llava:7b', 'nomic-embed-text:latest', 'mistral:latest', 'llama3.2:latest']
2025-07-22 21:28:42,140 - __main__ - INFO - ‚úÖ Required model 'llava:7b' is available
2025-07-22 21:28:42,140 - __main__ - INFO - üîç Testing single page processing with: /Users/yashm/Documents/GitHub/SPEC-001_Personal-RAG-LLM/SPEC-001_Personal-RAG-LLM/data/input/Documents/frdx0256/frdx0256.pdf
2025-07-22 21:28:42,140 - __main__ - INFO - üìÑ Starting document processing...
2025-07-22 21:28:42,140 - __main__ - INFO -    Configured timeout: 180.0s
2025-07-22 21:28:42,140 - __main__ - INFO -    Max pages to process: 3
2025-07-22 21:28:42,140 - pipeline.vlm.cpu_optimized_processor - INFO - Starting VLM processing of: /Users/yashm/Documents/GitHub/SPEC-001_Personal-RAG-LLM/SPEC-001_Personal-RAG-LLM/data/input/Documents/frdx0256/frdx0256.pdf
2025-07-22 21:28:42,150 - pipeline.vlm.cpu_optimized_processor - INFO - Document has 2 pages, processing first 2 pages
2025-07-22 21:28:42,150 - pipeline.vlm.cpu_optimized_processor - INFO - Processing page 1/2...
2025-07-22 21:28:42,272 - pipeline.vlm.cpu_optimized_processor - INFO - Using timeout: 180.0s (based on 0 previous measurements)
2025-07-22 21:29:12,093 - pipeline.vlm.cpu_optimized_processor - INFO - ‚úÖ Page 1 processed successfully in 29.9s
2025-07-22 21:29:12,097 - pipeline.vlm.cpu_optimized_processor - INFO -    Content type: email, Confidence: 0.95
2025-07-22 21:29:12,104 - pipeline.vlm.cpu_optimized_processor - INFO -    Performance: avg=29.9s, success_rate=100.0%
2025-07-22 21:29:12,105 - pipeline.vlm.cpu_optimized_processor - INFO - Processing page 2/2...
2025-07-22 21:29:12,276 - pipeline.vlm.cpu_optimized_processor - INFO - Using timeout: 60.0s (based on 1 previous measurements)
2025-07-22 21:29:34,941 - pipeline.vlm.cpu_optimized_processor - INFO - ‚úÖ Page 2 processed successfully in 22.8s
2025-07-22 21:29:34,945 - pipeline.vlm.cpu_optimized_processor - INFO -    Content type: report, Confidence: 0.95
2025-07-22 21:29:34,950 - pipeline.vlm.cpu_optimized_processor - ERROR - VLM document processing failed: module 'statistics' has no attribute 'quantile'
2025-07-22 21:29:34,974 - __main__ - INFO - üéâ Processing completed in 52.8s
2025-07-22 21:29:34,974 - __main__ - INFO - üìä Performance Summary:
2025-07-22 21:29:34,974 - __main__ - INFO -    Success rate: 100.0%
2025-07-22 21:29:34,974 - __main__ - INFO -    Average page time: 0.0s
2025-07-22 21:29:34,974 - __main__ - INFO -    Current timeout: 0.0s
2025-07-22 21:29:34,974 - __main__ - INFO - üß† System Learning:
2025-07-22 21:29:34,974 - __main__ - INFO -    Measurements taken: 2
2025-07-22 21:29:34,974 - __main__ - INFO -    Average response time: 26.4s
2025-07-22 21:29:34,974 - __main__ - INFO -    95th percentile time: 29.9s
2025-07-22 21:29:34,974 - __main__ - INFO -    Next timeout would be: 60.0s
2025-07-22 21:29:34,974 - __main__ - INFO - üéâ All tests completed successfully!
2025-07-22 21:29:34,974 - __main__ - INFO - Your CPU-optimized VLM setup is working correctly.
